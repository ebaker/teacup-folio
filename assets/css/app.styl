@import 'nib'


body
  background #171d25
  color white
  font-family 'Lato'
  margin 0

  // header
  > h1
    font-family 'Open Sans'
    font-size 42px
    margin-top 40px
    text-align center

#app
  display block
  text-align center
  width 768px
  margin 0 auto
  overflow hidden
  
  // navigation
  .navigation
    display inline-block
    width 120px
    margin-top 100px
    vertical-align top
    > ul
      list-style none
      padding-left 20px
      position relative
      > .slider
        background orange
        border-radius 1px
        height 40px
        left 0
        position absolute
        top 4px
        transition all 240ms cubic-bezier(0.145, 1.075, 0.345, 1.12) 60ms
        transition-duration 400ms
        width 6px
        &.contact
          transform translateY(0) translateZ(0)
        &.projects
          transform translateY(70px) translateZ(0)
        &.about
          transform translateY(140px) translateZ(0)
      > li
        box-sizing border-box
        cursor pointer
        font-family 'Lato'
        font-size 24px
        font-weight 400
        margin-bottom 20px
        padding 10px 6px

  // main
  .main
    display inline-block
    margin 40px 0 0 120px
    height 420px
    position relative
    width 420px

    // spinner
    $height_width = 420
    $height_width_px = unit($height_width, 'px')
    $top_margin = unit(($height_width * (-0.55)), 'px')
    $right_margin = unit(($height_width / -2), 'px')
    $top_margin = unit(($height_width / -2), 'px')

    > .spinner, > .circle
      height $height_width_px
      position absolute
      top 50%
      margin $top_margin $right_margin 0 0
      right 50%
      width $height_width_px
      transition all 300ms ease-in-out 200ms
      z-index 20
      pointer-events none
      &.circle
        border-radius 50%
        border 6px solid purple
        box-sizing border-box
      > .button
        position absolute
        transition all 300ms ease-in-out 200ms
        &.contact
          top 2%
          left 50%
        &.projects
          top 72%
          left 89.5%
        &.about
          top 72%
          left 8.5%
      > .button > .info
        background #333
        border 10px solid orange
        border-radius 60px
        cursor pointer
        margin -45px 0 0 -45px
        position absolute
        top 0
        left 0
        height 80px
        pointer-events auto
        width 80px
        &:active
          background darken(#333, 10)
        > div
          position static
          pointer-events none
          display block
          margin 26px auto
          text-align center
          color #eee
          font-size 17px
      &.contact
        transform rotateZ(0) translateZ(0)
      &.projects
        transform rotateZ(-120deg) translateZ(0)
        > div
          transform rotateZ(120deg) translateZ(0)
      &.about
        transform rotateZ(-240deg) translateZ(0)
        > div
          transform rotateZ(240deg) translateZ(0)

    // contents
    > .wrapper
      height $height_width_px
      position absolute
      top 50%
      margin $top_margin $right_margin 0 0
      right 50%
      width $height_width_px

    .contents
      pointer-events none
      position relative
      z-index 10
      border-radius 50%
      overflow hidden
      height 100%
      width 100%
      border 6px solid transparent
      box-sizing border-box
      -webkit-mask-image -webkit-radial-gradient(circle, white 100%, black 100%)

    .contents > .content
      position absolute
      width 100%
      height 100%
      opacity 0
      text-align center
      transition all 400ms ease-in-out 300ms
      visibility hidden
      a, .cycle-slideshow
        pointer-events auto
      &.active
        opacity 1
        visibility visible
        transition-delay 400ms
      &.about 
        top 0
        > img
          width 100%
        > div
          position abolute
          bottom 40px
          margin-top 20px
      &.contact
        padding-top 120px
        text-align center
        z-index 14
        > a
          padding-right 8px
          z-index 15
        img
          max-height 76px
          width auto
      &.projects
        margin 0
        text-align center
        position relative
        .cycle-slideshow
          z-index 14
        .cycle-controls
          position absolute
          top 0
          width 100%
          height 100%
          z-index 15
          > .button
            cursor pointer
            font-size 44px
            height 100%
            padding-top 35%
            pointer-events auto
            position absolute
            &:active
              background rgba(0, 0, 0, .6)
            > i
              text-shadow -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000
            &.right
              right 0
        .slide
          width 100%
        .project
          margin 0 auto
          position relative
          > img
            margin-bottom 8px
            height $height_width_px
            width $height_width_px
            background-size cover
          > .info
            position absolute
            display block
            width 100%
            padding 10px 0 10px 0
            bottom 40px
            background rgba(0, 0, 0, .7)
            > h3, div, a
              margin 3px 0
            $github = #4183C4
            $view = purple
            > a
              display block
              border-radius 8px
              padding 6px 12px
              display inline-block
              background $view
              color white
              text-decoration none
              margin-right 5px
              > i
                position relative
                left 5px
              &:active
                background darken($view, 10)
              &.github
                background $github
                &:active
                  background darken($github, 10)

.mobile
  display none

@media (max-width: 768px)
  #app
    max-width 100%
//     .navigation
//       display block
//       margin 0 auto
// 
//     // quick main hack
//     .main
//       left -210px
//       margin-left 50%
//       position relative


 @media (max-width: 640px)
   body
     h1
       display none
   #app
     .navigation
       background black
       display block
       margin 0
       max-height 0
       overflow hidden
       position fixed
       top 66px
       transition all ease-out 400ms
       width 100%
       z-index 100
       > ul
         border-top 1px dashed orange
         margin 0px
         padding-left 0px
         > .slider
           display none
         > li
           border-bottom 1px dotted gray
           margin 0
           text-align left
           padding 20px 20px 20px 60px
       &.open
         max-height 300px
      .main
        display block
        margin 0
        width 100%
        > .spinner, > .circle
          display none
        > .wrapper
          position static
          margin 0
          width 100%
        .contents
          margin 0
          position static
          border 0
          border-radius 0
          > .content
            &.projects 
              margin 0px auto
              height 400px
              overflow-y hidden
              left 0
              .cycle-slideshow
                height 100%
              .project
                > img
                  width 100%
                  height auto
                > .info
                  bottom 0px
                  padding-bottom 20px
                  box-sizing border-box
            &.about
              > img
                max-width 100%
            &.contact
              margin 0px auto
              padding 0
              width 100%
              > a
                display block
                margin-top 15px
                > img
                  max-height 80px

   .mobile
     background black
     display block
     height 66px
     > div
       display inline-block
       font-size 42px
       padding 8px 12px
       &.button
         border-right solid 1px orange
         box-sizing border-box

